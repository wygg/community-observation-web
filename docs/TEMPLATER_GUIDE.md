# Templater 智能模板使用指南

## 🚀 快速开始

### 1. 安装 Templater 插件
1. 打开 Obsidian 设置
2. 进入 `社区插件` > `浏览`
3. 搜索并安装 `Templater`
4. 启用插件并重启 Obsidian

### 2. 配置 Templater
1. 进入 `设置 > 社区插件 > Templater`
2. 设置模板文件夹：`templates`
3. 启用以下选项：
   - ✅ 自动触发模板在新文件创建时
   - ✅ 启用系统命令执行
   - ✅ 启用用户脚本

### 3. 导入模板
将 `templates/` 文件夹中的所有模板文件复制到你的 Obsidian 模板文件夹中。

## 📋 模板列表

### 1. 🎯 智能观察模板.md
**用途**：详细的考现学观察记录
**特点**：全功能、交互式、专业分析

### 2. ⚡ 快速观察模板.md
**用途**：快速记录观察要点
**特点**：简洁快速、即时记录

### 3. 📝 基础观察模板.md
**用途**：标准静态模板
**特点**：简单稳定、无需插件

## 🔧 使用方法

### 方法一：自动触发（推荐）
1. 在 Templater 设置中启用"新文件自动触发"
2. 选择对应的模板作为默认模板
3. 每次创建新文件时自动应用模板

### 方法二：命令面板
1. 按 `Ctrl/Cmd + P` 打开命令面板
2. 输入 `Templater: Insert`
3. 选择要插入的模板

### 方法三：热键绑定
1. 进入 `设置 > 快捷键`
2. 为 `Templater: Insert` 绑定快捷键
3. 为不同模板设置不同快捷键

## 🎯 智能观察模板详细说明

### 自动化功能
- **文件名自动生成**：使用文件名作为图片名
- **时间自动记录**：多种时间格式
- **分类选择器**：下拉选择观察类别
- **标签系统**：多选相关标签
- **交互式输入**：弹窗填写内容

### 交互流程示例
```
📝 创建新观察笔记
    ↓
🎯 选择观察类别（下拉菜单）
    ↓
🏷️ 选择相关标签（多选）
    ↓
📍 输入观察地点
    ↓
🌤️ 输入天气信息
    ↓
📸 依次填写各部分内容（弹窗提示）
    ↓
✅ 自动生成完整观察笔记
```

### 输出示例
```markdown
---
title: "小区入口设计观察"
date: "2024-02-07"
location: "XX小区南门"
category: "公共空间"
tags: ["考现学", "设计分析", "改进建议", "社区观察"]
---
```

## ⚡ 快速观察模板说明

### 使用场景
- 路上遇到有趣现象需要快速记录
- 临时观察，后续详细整理
- 灵感捕捉和想法记录

### 快速特性
- 最简化交互流程
- 关键信息优先记录
- 支持后续补充完善

## 🔨 自定义模板

### 修改现有模板
1. 打开对应的 `.md` 模板文件
2. 修改 Templater 语法：`<% ... %>`
3. 保存即可生效

### 添加新模板
1. 在模板文件夹创建新的 `.md` 文件
2. 使用 Templater 语法编写
3. 在 Obsidian 中即可使用

### 常用 Templater 语法

#### 基础语法
```templater
<% tp.date.now('YYYY-MM-DD') %>          # 当前日期
<% tp.file.title %>                       # 文件名
<% tp.file.frontmatter.key %>             # Frontmatter 值
```

#### 交互输入
```templater
<% tp.system.prompt('提示文字', '默认值') %>        # 文本输入
<% tp.system.suggester(选项, 值) %>                # 下拉选择
```

#### 条件和循环
```templater
<%* if (condition) { %> ... <%* } %>                # 条件判断
<%* for (let item of array) { %> ... <%* } %>      # 循环
```

## 🎨 进阶技巧

### 1. 自定义变量
```templater
<%* const observer = "你的名字"; %>
*观察者：<% observer %>*
```

### 2. 条件内容
```templater
<%* if (tp.file.frontmatter.youtube) { %>
📹 [观看相关视频](https://youtu.be/<% tp.file.frontmatter.youtube %>)
<%* } %>
```

### 3. 动态计算
```templater
<%* const duration = 30; %>
观察时长：<% duration %>分钟（<% duration/60 %>小时）
```

## 📱 移动端支持

### iOS 设置
1. 在 Templater 设置中启用"移动端兼容模式"
2. 简化交互流程
3. 使用语音输入辅助

### Android 设置
1. 安装外部键盘应用
2. 配置快捷键
3. 使用语音识别

## 🔧 故障排除

### 常见问题

#### 1. 模板不生效
**解决**：检查 Templater 插件是否启用，模板文件夹路径是否正确

#### 2. 弹窗不显示
**解决**：确保在 Templater 设置中启用了"系统提示"

#### 3. 时间格式错误
**解决**：检查日期格式字符串，使用正确的格式符号

#### 4. 文件路径问题
**解决**：使用相对路径，确保图片文件夹存在

### 调试技巧

#### 查看错误信息
1. 打开开发者工具：`Ctrl/Cmd + Shift + I`
2. 查看 Console 面板错误信息
3. 根据错误信息调试模板

#### 测试模板
1. 创建测试文件验证模板
2. 逐步调试复杂的模板逻辑
3. 使用简单模板验证基本功能

## 💡 最佳实践

### 1. 模板组织
- 按功能分类模板
- 使用清晰的命名规范
- 定期备份模板文件

### 2. 内容质量
- 详细填写观察内容
- 保持客观记录
- 添加个人思考和分析

### 3. 工作流程
1. 现场快速记录（移动端）
2. 详细整理（桌面端）
3. 定期回顾和总结
4. 持续改进模板

### 4. 协作分享
- 与团队成员共享模板
- 收集使用反馈
- 持续优化模板设计

## 🎯 扩展功能

### 1. 集成其他插件
- **Calendar**：按日期组织观察
- **Dataview**：动态查询统计
- **Excalidraw**：绘制示意图

### 2. 自动化脚本
- 自动图片重命名
- 自动生成目录
- 定期备份提醒

### 3. 数据分析
- 观察频率统计
- 问题分类汇总
- 改进建议追踪

---

## 📚 更多资源

- [Templater 官方文档](https://silentvoid13.github.io/Templater/)
- [Obsidian 社区论坛](https://forum.obsidian.md/)
- [考现学相关资源](https://example.com)

---
*最后更新：2024-02-07*  
*版本：1.0*