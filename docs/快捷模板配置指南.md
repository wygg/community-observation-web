# Control+Shift+K 快捷考现模板配置指南

## 🎯 模板功能说明

### 快捷键触发
- **快捷键**：`Control+Shift+K` (Windows/Linux) 或 `Cmd+Shift+K` (Mac)
- **功能**：一键启动交互式考现笔记创建流程

### 交互流程
1. **文件名输入** → 自动添加日期前缀
2. **天气询问** → 记录天气状况
3. **标签输入** → 支持顿号分隔多个标签
4. **灵光闪现** → 可选的灵感记录
5. **考现笔记** → 多条记录，支持持续输入
6. **调查信息** → 姓名、详细时间信息

## ⚙️ 配置步骤

### 1. 安装 Templater 插件
1. 打开 Obsidian 设置 (`Ctrl/Cmd + ,`)
2. 进入 `社区插件` > `浏览`
3. 搜索 `Templater` 并安装
4. 启用插件并重启 Obsidian

### 2. 设置 Templater 配置
1. 进入 `设置` > `社区插件` > `Templater`
2. 配置以下选项：

#### 基本设置
- ✅ 启用 Templater
- ✅ 启用系统命令执行
- ✅ 启用用户脚本
- ✅ 启用文件夹模板
- ✅ 启用文件模板

#### 模板文件夹设置
- 模板文件夹路径：`templates`

#### 脚本设置
- 用户脚本文件夹：留空（可选）
- 用户函数文件夹：留空（可选）

### 3. 设置快捷键
1. 进入 `设置` > `快捷键`
2. 搜索 `templater`
3. 找到 `templater:insert-templater`
4. 点击添加快捷键：`Ctrl+Shift+K`

### 4. 导入模板文件
1. 将 `快捷考现模板.md` 复制到你的 Obsidian 库的 `templates` 文件夹中
2. 确保模板文件名称完全一致

### 5. 配置 .obsidian 文件（可选）
如果你在 GitHub 项目中工作，可以复制配置文件：
- `.obsidian/plugins/templater/data.json`
- `.obsidian/hotkeys.json`

## 🚀 使用方法

### 首次使用
1. 按 `Ctrl+Shift+K` 或 `Cmd+Shift+K`
2. 输入文件名，如：`社区公园观察`
3. 系统自动生成：`2026-02-09 社区公园观察.md`

### 输入示例
```
文件名：社区公园观察
天气：晴朗
标签：考现学、社区、公共空间
灵光闪现：公园设计应该考虑不同年龄段的需求
考现笔记1：老年人在晨练区打太极
考现笔记2：年轻人在跑步区慢跑
考现笔记3：孩子们在游乐区玩耍
考现笔记4：[直接回车结束]
调查者姓名：张观察
```

### 生成结果示例
```markdown
---
title: "社区公园观察"
date: "2026-02-09"
weather: "晴朗"
tags: ["考现学", "社区", "公共空间"]
observer: "张观察"
created_time: "2026年02月09日 14:30:25"
week_day: "星期日"
week_number: 6
day_of_year: 40
observation_count: 3
has_flash: true
---

# 社区公园观察
...
```

## 📱 移动端配置

### iOS 设备
1. 在 Obsidian 移动版中安装 Templater 插件
2. 由于移动端快捷键有限，建议：
   - 使用命令面板 (`Cmd+P`) 搜索 `templater:insert-templater`
   - 或设置触摸手势触发

### Android 设备
1. 同样安装 Templater 插件
2. 使用外接键盘支持快捷键
3. 或使用命令面板触发

## 🔧 故障排除

### 常见问题

#### 1. 快捷键不生效
**解决方案：**
- 检查 Templater 插件是否启用
- 确认快捷键没有冲突
- 重启 Obsidian 应用

#### 2. 模板文件找不到
**解决方案：**
- 确认模板文件夹路径正确
- 检查文件名是否匹配
- 确认文件权限正常

#### 3. 交互弹窗不显示
**解决方案：**
- 检查 Templater 设置中是否启用了系统提示
- 确认浏览器或应用没有阻止弹窗
- 重启应用重试

#### 4. 文件名生成错误
**解决方案：**
- 检查系统时间设置
- 确认文件名中没有非法字符
- 检查文件夹权限

### 调试方法

#### 开启调试模式
1. 进入 Templater 设置
2. 启用 `debug_mode`
3. 查看控制台错误信息

#### 测试模板语法
1. 创建新文件
2. 手动插入模板测试
3. 检查生成的语法是否正确

## 🎨 自定义修改

### 修改交互流程
如果你想调整交互流程，可以编辑 `快捷考现模板.md` 文件：

```javascript
// 修改提示文字
const fileName = await tp.system.prompt("请输入观察主题：");

// 修改默认天气
const weather = await tp.system.prompt("天气状况：", "多云");

// 添加新的交互项
const mood = await tp.system.prompt("今天心情如何：", "平静");
```

### 添加新的元数据
```javascript
// 在 frontmatter 中添加新字段
tR += `
mood: "${mood}"
location_type: "${locationType}"
`;
```

### 修改输出格式
你可以自由调整 Markdown 输出的格式和样式。

## 📚 高级功能

### 批量导入
如果已有笔记想要使用此格式，可以：
1. 创建转换脚本
2. 批量更新现有文件
3. 保持数据一致性

### 数据统计
利用模板收集的数据，你可以：
- 统计观察频率
- 分析时间分布
- 追踪观察主题

### 自动化扩展
结合其他插件：
- **Dataview**：动态查询统计
- **Calendar**：日历视图展示
- **QuickAdd**：更多自动化选项

## 💡 使用建议

### 最佳实践
1. **及时记录**：观察后立即记录，避免遗忘
2. **保持一致**：使用统一的标签和格式
3. **持续迭代**：根据使用情况优化模板
4. **定期回顾**：整理和分析观察记录

### 工作流程
1. **现场观察** → 2. **快速记录** → 3. **详细分析** → 4. **定期总结**

### 团队协作
- 统一模板格式
- 共享标签体系
- 定期交流经验

---

## 📞 技术支持

如果遇到问题：
1. 查看 Obsidian 官方文档
2. 搜索 Templater 插件说明
3. 查看社区论坛讨论
4. 联系插件开发者

---

*最后更新：2026-02-09*  
*适用版本：Obsidian 1.11.7, Templater 最新版本*